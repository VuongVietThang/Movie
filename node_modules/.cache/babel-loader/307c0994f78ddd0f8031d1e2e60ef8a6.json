{"ast":null,"code":"'use client';\n\nimport * as React from 'react';\nimport { PrimeReactContext } from 'primereact/api';\nimport { useMergeProps, usePrevious, useStyle, useResizeListener, useEventListener, useUpdateEffect } from 'primereact/hooks';\nimport { SpinnerIcon } from 'primereact/icons/spinner';\nimport { DomHandler, ObjectUtils, classNames, IconUtils } from 'primereact/utils';\nimport { ComponentBase } from 'primereact/componentbase';\n\nfunction _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n\n    return n;\n  }, _extends.apply(null, arguments);\n}\n\nfunction _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\n\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n\n  return (\"string\" === r ? String : Number)(t);\n}\n\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\n\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\n\nfunction _arrayWithHoles(r) {\n  if (Array.isArray(r)) return r;\n}\n\nfunction _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n\n  if (null != t) {\n    var e,\n        n,\n        i,\n        u,\n        a = [],\n        f = !0,\n        o = !1;\n\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = !1;\n      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n\n    return a;\n  }\n}\n\nfunction _arrayLikeToArray(r, a) {\n  (null == a || a > r.length) && (a = r.length);\n\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n\n  return n;\n}\n\nfunction _unsupportedIterableToArray(r, a) {\n  if (r) {\n    if (\"string\" == typeof r) return _arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0;\n  }\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _slicedToArray(r, e) {\n  return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest();\n}\n\nvar styles = \"\\n.p-virtualscroller {\\n    position: relative;\\n    overflow: auto;\\n    contain: strict;\\n    transform: translateZ(0);\\n    will-change: scroll-position;\\n    outline: 0 none;\\n}\\n\\n.p-virtualscroller-content {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    /*contain: content;*/\\n    min-height: 100%;\\n    min-width: 100%;\\n    will-change: transform;\\n}\\n\\n.p-virtualscroller-spacer {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    height: 1px;\\n    width: 1px;\\n    transform-origin: 0 0;\\n    pointer-events: none;\\n}\\n\\n.p-virtualscroller-loader {\\n    position: sticky;\\n    top: 0;\\n    left: 0;\\n    width: 100%;\\n    height: 100%;\\n}\\n\\n.p-virtualscroller-loader.p-component-overlay {\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n}\\n\\n.p-virtualscroller-loading-icon {\\n    font-size: 2rem;\\n}\\n\\n.p-virtualscroller-horizontal > .p-virtualscroller-content {\\n    display: flex;\\n}\\n\\n/* Inline */\\n.p-virtualscroller-inline .p-virtualscroller-content {\\n    position: static;\\n}\\n\";\nvar VirtualScrollerBase = ComponentBase.extend({\n  defaultProps: {\n    __TYPE: 'VirtualScroller',\n    __parentMetadata: null,\n    id: null,\n    style: null,\n    className: null,\n    tabIndex: 0,\n    items: null,\n    itemSize: 0,\n    scrollHeight: null,\n    scrollWidth: null,\n    orientation: 'vertical',\n    step: 0,\n    numToleratedItems: null,\n    delay: 0,\n    resizeDelay: 10,\n    appendOnly: false,\n    inline: false,\n    lazy: false,\n    disabled: false,\n    loaderDisabled: false,\n    loadingIcon: null,\n    columns: null,\n    loading: undefined,\n    autoSize: false,\n    showSpacer: true,\n    showLoader: false,\n    loadingTemplate: null,\n    loaderIconTemplate: null,\n    itemTemplate: null,\n    contentTemplate: null,\n    onScroll: null,\n    onScrollIndexChange: null,\n    onLazyLoad: null,\n    children: undefined\n  },\n  css: {\n    styles: styles\n  }\n});\n\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n\n  return t;\n}\n\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n\n  return e;\n}\n\nvar VirtualScroller = /*#__PURE__*/React.memo( /*#__PURE__*/React.forwardRef(function (inProps, ref) {\n  var mergeProps = useMergeProps();\n  var context = React.useContext(PrimeReactContext);\n  var props = VirtualScrollerBase.getProps(inProps, context);\n  var prevProps = usePrevious(inProps) || {};\n  var vertical = props.orientation === 'vertical';\n  var horizontal = props.orientation === 'horizontal';\n  var both = props.orientation === 'both';\n\n  var _React$useState = React.useState(both ? {\n    rows: 0,\n    cols: 0\n  } : 0),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      firstState = _React$useState2[0],\n      setFirstState = _React$useState2[1];\n\n  var _React$useState3 = React.useState(both ? {\n    rows: 0,\n    cols: 0\n  } : 0),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      lastState = _React$useState4[0],\n      setLastState = _React$useState4[1];\n\n  var _React$useState5 = React.useState(0),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      pageState = _React$useState6[0],\n      setPageState = _React$useState6[1];\n\n  var _React$useState7 = React.useState(both ? {\n    rows: 0,\n    cols: 0\n  } : 0),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      numItemsInViewportState = _React$useState8[0],\n      setNumItemsInViewportState = _React$useState8[1];\n\n  var _React$useState9 = React.useState(props.numToleratedItems),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      numToleratedItemsState = _React$useState10[0],\n      setNumToleratedItemsState = _React$useState10[1];\n\n  var _React$useState11 = React.useState(props.loading || false),\n      _React$useState12 = _slicedToArray(_React$useState11, 2),\n      loadingState = _React$useState12[0],\n      setLoadingState = _React$useState12[1];\n\n  var _React$useState13 = React.useState([]),\n      _React$useState14 = _slicedToArray(_React$useState13, 2),\n      loaderArrState = _React$useState14[0],\n      setLoaderArrState = _React$useState14[1];\n\n  var _VirtualScrollerBase$ = VirtualScrollerBase.setMetaData({\n    props: props,\n    state: {\n      first: firstState,\n      last: lastState,\n      page: pageState,\n      numItemsInViewport: numItemsInViewportState,\n      numToleratedItems: numToleratedItemsState,\n      loading: loadingState,\n      loaderArr: loaderArrState\n    }\n  }),\n      ptm = _VirtualScrollerBase$.ptm;\n\n  useStyle(VirtualScrollerBase.css.styles, {\n    name: 'virtualscroller'\n  });\n  var elementRef = React.useRef(null);\n\n  var _contentRef = React.useRef(null);\n\n  var _spacerRef = React.useRef(null);\n\n  var _stickyRef = React.useRef(null);\n\n  var lastScrollPos = React.useRef(both ? {\n    top: 0,\n    left: 0\n  } : 0);\n  var scrollTimeout = React.useRef(null);\n  var resizeTimeout = React.useRef(null);\n  var contentStyle = React.useRef({});\n  var spacerStyle = React.useRef({});\n  var defaultWidth = React.useRef(null);\n  var defaultHeight = React.useRef(null);\n  var defaultContentWidth = React.useRef(null);\n  var defaultContentHeight = React.useRef(null);\n  var isItemRangeChanged = React.useRef(false);\n  var lazyLoadState = React.useRef(null);\n  var viewInitialized = React.useRef(false);\n\n  var _useResizeListener = useResizeListener({\n    listener: function listener(event) {\n      return onResize();\n    },\n    when: !props.disabled\n  }),\n      _useResizeListener2 = _slicedToArray(_useResizeListener, 1),\n      bindWindowResizeListener = _useResizeListener2[0];\n\n  var _useEventListener = useEventListener({\n    target: 'window',\n    type: 'orientationchange',\n    listener: function listener(event) {\n      return onResize();\n    },\n    when: !props.disabled\n  }),\n      _useEventListener2 = _slicedToArray(_useEventListener, 1),\n      bindOrientationChangeListener = _useEventListener2[0];\n\n  var getElementRef = function getElementRef() {\n    return elementRef;\n  };\n\n  var getPageByFirst = function getPageByFirst(first) {\n    return Math.floor((first + numToleratedItemsState * 4) / (props.step || 1));\n  };\n\n  var setContentElement = function setContentElement(element) {\n    _contentRef.current = element || _contentRef.current || DomHandler.findSingle(elementRef.current, '.p-virtualscroller-content');\n  };\n\n  var isPageChanged = function isPageChanged(first) {\n    return props.step ? pageState !== getPageByFirst(first) : true;\n  };\n\n  var scrollTo = function scrollTo(options) {\n    lastScrollPos.current = both ? {\n      top: 0,\n      left: 0\n    } : 0;\n    elementRef.current && elementRef.current.scrollTo(options);\n  };\n\n  var scrollToIndex = function scrollToIndex(index) {\n    var behavior = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'auto';\n\n    var _calculateNumItems = calculateNumItems(),\n        numToleratedItems = _calculateNumItems.numToleratedItems;\n\n    var contentPos = getContentPosition();\n\n    var calculateFirst = function calculateFirst() {\n      var _index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      var _numT = arguments.length > 1 ? arguments[1] : undefined;\n\n      return _index <= _numT ? 0 : _index;\n    };\n\n    var calculateCoord = function calculateCoord(_first, _size, _cpos) {\n      return _first * _size + _cpos;\n    };\n\n    var scrollToItem = function scrollToItem() {\n      var left = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var top = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      return scrollTo({\n        left: left,\n        top: top,\n        behavior: behavior\n      });\n    };\n\n    var newFirst = both ? {\n      rows: 0,\n      cols: 0\n    } : 0;\n    var isRangeChanged = false;\n\n    if (both) {\n      newFirst = {\n        rows: calculateFirst(index[0], numToleratedItems[0]),\n        cols: calculateFirst(index[1], numToleratedItems[1])\n      };\n      scrollToItem(calculateCoord(newFirst.cols, props.itemSize[1], contentPos.left), calculateCoord(newFirst.rows, props.itemSize[0], contentPos.top));\n      isRangeChanged = firstState.rows !== newFirst.rows || firstState.cols !== newFirst.cols;\n    } else {\n      newFirst = calculateFirst(index, numToleratedItems);\n      horizontal ? scrollToItem(calculateCoord(newFirst, props.itemSize, contentPos.left), 0) : scrollToItem(0, calculateCoord(newFirst, props.itemSize, contentPos.top));\n      isRangeChanged = firstState !== newFirst;\n    }\n\n    isItemRangeChanged.current = isRangeChanged;\n    setFirstState(newFirst);\n  };\n\n  var scrollInView = function scrollInView(index, to) {\n    var behavior = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'auto';\n\n    if (to) {\n      var _getRenderedRange = getRenderedRange(),\n          first = _getRenderedRange.first,\n          viewport = _getRenderedRange.viewport;\n\n      var scrollToItem = function scrollToItem() {\n        var left = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        var top = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n        return scrollTo({\n          left: left,\n          top: top,\n          behavior: behavior\n        });\n      };\n\n      var isToStart = to === 'to-start';\n      var isToEnd = to === 'to-end';\n\n      if (isToStart) {\n        if (both) {\n          if (viewport.first.rows - first.rows > index[0]) {\n            scrollToItem(viewport.first.cols * props.itemSize[1], (viewport.first.rows - 1) * props.itemSize[0]);\n          } else if (viewport.first.cols - first.cols > index[1]) {\n            scrollToItem((viewport.first.cols - 1) * props.itemSize[1], viewport.first.rows * props.itemSize[0]);\n          }\n        } else if (viewport.first - first > index) {\n          var pos = (viewport.first - 1) * props.itemSize;\n          horizontal ? scrollToItem(pos, 0) : scrollToItem(0, pos);\n        }\n      } else if (isToEnd) {\n        if (both) {\n          if (viewport.last.rows - first.rows <= index[0] + 1) {\n            scrollToItem(viewport.first.cols * props.itemSize[1], (viewport.first.rows + 1) * props.itemSize[0]);\n          } else if (viewport.last.cols - first.cols <= index[1] + 1) {\n            scrollToItem((viewport.first.cols + 1) * props.itemSize[1], viewport.first.rows * props.itemSize[0]);\n          }\n        } else if (viewport.last - first <= index + 1) {\n          var _pos2 = (viewport.first + 1) * props.itemSize;\n\n          horizontal ? scrollToItem(_pos2, 0) : scrollToItem(0, _pos2);\n        }\n      }\n    } else {\n      scrollToIndex(index, behavior);\n    }\n  };\n\n  var getRows = function getRows() {\n    return loadingState ? props.loaderDisabled ? loaderArrState : [] : loadedItems();\n  };\n\n  var getColumns = function getColumns() {\n    if (props.columns && both || horizontal) {\n      return loadingState && props.loaderDisabled ? both ? loaderArrState[0] : loaderArrState : props.columns.slice(both ? firstState.cols : firstState, both ? lastState.cols : lastState);\n    }\n\n    return props.columns;\n  };\n\n  var getRenderedRange = function getRenderedRange() {\n    var calculateFirstInViewport = function calculateFirstInViewport(_pos, _size) {\n      return Math.floor(_pos / (_size || _pos));\n    };\n\n    var firstInViewport = firstState;\n    var lastInViewport = 0;\n\n    if (elementRef.current) {\n      var _elementRef$current = elementRef.current,\n          scrollTop = _elementRef$current.scrollTop,\n          scrollLeft = _elementRef$current.scrollLeft;\n\n      if (both) {\n        firstInViewport = {\n          rows: calculateFirstInViewport(scrollTop, props.itemSize[0]),\n          cols: calculateFirstInViewport(scrollLeft, props.itemSize[1])\n        };\n        lastInViewport = {\n          rows: firstInViewport.rows + numItemsInViewportState.rows,\n          cols: firstInViewport.cols + numItemsInViewportState.cols\n        };\n      } else {\n        var scrollPos = horizontal ? scrollLeft : scrollTop;\n        firstInViewport = calculateFirstInViewport(scrollPos, props.itemSize);\n        lastInViewport = firstInViewport + numItemsInViewportState;\n      }\n    }\n\n    return {\n      first: firstState,\n      last: lastState,\n      viewport: {\n        first: firstInViewport,\n        last: lastInViewport\n      }\n    };\n  };\n\n  var calculateNumItems = function calculateNumItems() {\n    var contentPos = getContentPosition();\n    var contentWidth = elementRef.current ? elementRef.current.offsetWidth - contentPos.left : 0;\n    var contentHeight = elementRef.current ? elementRef.current.offsetHeight - contentPos.top : 0;\n\n    var calculateNumItemsInViewport = function calculateNumItemsInViewport(_contentSize, _itemSize) {\n      return Math.ceil(_contentSize / (_itemSize || _contentSize));\n    };\n\n    var calculateNumToleratedItems = function calculateNumToleratedItems(_numItems) {\n      return Math.ceil(_numItems / 2);\n    };\n\n    var numItemsInViewport = both ? {\n      rows: calculateNumItemsInViewport(contentHeight, props.itemSize[0]),\n      cols: calculateNumItemsInViewport(contentWidth, props.itemSize[1])\n    } : calculateNumItemsInViewport(horizontal ? contentWidth : contentHeight, props.itemSize);\n    var numToleratedItems = numToleratedItemsState || (both ? [calculateNumToleratedItems(numItemsInViewport.rows), calculateNumToleratedItems(numItemsInViewport.cols)] : calculateNumToleratedItems(numItemsInViewport));\n    return {\n      numItemsInViewport: numItemsInViewport,\n      numToleratedItems: numToleratedItems\n    };\n  };\n\n  var calculateOptions = function calculateOptions() {\n    var _calculateNumItems2 = calculateNumItems(),\n        numItemsInViewport = _calculateNumItems2.numItemsInViewport,\n        numToleratedItems = _calculateNumItems2.numToleratedItems;\n\n    var calculateLast = function calculateLast(_first, _num, _numT) {\n      var _isCols = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n      return getLast(_first + _num + (_first < _numT ? 2 : 3) * _numT, _isCols);\n    };\n\n    var last = both ? {\n      rows: calculateLast(firstState.rows, numItemsInViewport.rows, numToleratedItems[0]),\n      cols: calculateLast(firstState.cols, numItemsInViewport.cols, numToleratedItems[1], true)\n    } : calculateLast(firstState, numItemsInViewport, numToleratedItems);\n    setNumItemsInViewportState(numItemsInViewport);\n    setNumToleratedItemsState(numToleratedItems);\n    setLastState(last);\n\n    if (props.showLoader) {\n      setLoaderArrState(both ? Array.from({\n        length: numItemsInViewport.rows\n      }).map(function () {\n        return Array.from({\n          length: numItemsInViewport.cols\n        });\n      }) : Array.from({\n        length: numItemsInViewport\n      }));\n    }\n\n    if (props.lazy) {\n      Promise.resolve().then(function () {\n        lazyLoadState.current = {\n          first: props.step ? both ? {\n            rows: 0,\n            cols: firstState.cols\n          } : 0 : firstState,\n          last: Math.min(props.step ? props.step : last, (props.items || []).length)\n        };\n        props.onLazyLoad && props.onLazyLoad(lazyLoadState.current);\n      });\n    }\n  };\n\n  var calculateAutoSize = function calculateAutoSize(loading) {\n    if (props.autoSize && !loading) {\n      Promise.resolve().then(function () {\n        if (_contentRef.current) {\n          _contentRef.current.style.minHeight = _contentRef.current.style.minWidth = 'auto';\n          _contentRef.current.style.position = 'relative';\n          elementRef.current.style.contain = 'none';\n          /*const [contentWidth, contentHeight] = [DomHandler.getWidth(contentRef.current), DomHandler.getHeight(contentRef.current)];\n           contentWidth !== defaultContentWidth.current && (elementRef.current.style.width = '');\n          contentHeight !== defaultContentHeight.current && (elementRef.current.style.height = '');*/\n\n          var _ref = [DomHandler.getWidth(elementRef.current), DomHandler.getHeight(elementRef.current)],\n              width = _ref[0],\n              height = _ref[1];\n          (both || horizontal) && (elementRef.current.style.width = (width < defaultWidth.current ? width : props.scrollWidth || defaultWidth.current) + 'px');\n          (both || vertical) && (elementRef.current.style.height = (height < defaultHeight.current ? height : props.scrollHeight || defaultHeight.current) + 'px');\n          _contentRef.current.style.minHeight = _contentRef.current.style.minWidth = '';\n          _contentRef.current.style.position = '';\n          elementRef.current.style.contain = '';\n        }\n      });\n    }\n  };\n\n  var getLast = function getLast() {\n    var _ref2;\n\n    var last = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    var isCols = arguments.length > 1 ? arguments[1] : undefined;\n    return props.items ? Math.min(isCols ? ((_ref2 = props.columns || props.items[0]) === null || _ref2 === void 0 ? void 0 : _ref2.length) || 0 : (props.items || []).length, last) : 0;\n  };\n\n  var getContentPosition = function getContentPosition() {\n    if (_contentRef.current) {\n      var style = getComputedStyle(_contentRef.current);\n      var left = parseFloat(style.paddingLeft) + Math.max(parseFloat(style.left) || 0, 0);\n      var right = parseFloat(style.paddingRight) + Math.max(parseFloat(style.right) || 0, 0);\n      var top = parseFloat(style.paddingTop) + Math.max(parseFloat(style.top) || 0, 0);\n      var bottom = parseFloat(style.paddingBottom) + Math.max(parseFloat(style.bottom) || 0, 0);\n      return {\n        left: left,\n        right: right,\n        top: top,\n        bottom: bottom,\n        x: left + right,\n        y: top + bottom\n      };\n    }\n\n    return {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0,\n      x: 0,\n      y: 0\n    };\n  };\n\n  var setSize = function setSize() {\n    if (elementRef.current) {\n      var parentElement = elementRef.current.parentElement;\n      var width = props.scrollWidth || \"\".concat(elementRef.current.offsetWidth || parentElement.offsetWidth, \"px\");\n      var height = props.scrollHeight || \"\".concat(elementRef.current.offsetHeight || parentElement.offsetHeight, \"px\");\n\n      var setProp = function setProp(_name, _value) {\n        return elementRef.current.style[_name] = _value;\n      };\n\n      if (both || horizontal) {\n        setProp('height', height);\n        setProp('width', width);\n      } else {\n        setProp('height', height);\n      }\n    }\n  };\n\n  var setSpacerSize = function setSpacerSize() {\n    var items = props.items;\n\n    if (items) {\n      var contentPos = getContentPosition();\n\n      var setProp = function setProp(_name, _value, _size) {\n        var _cpos = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n\n        return spacerStyle.current = _objectSpread(_objectSpread({}, spacerStyle.current), _defineProperty({}, \"\".concat(_name), (_value || []).length * _size + _cpos + 'px'));\n      };\n\n      if (both) {\n        setProp('height', items, props.itemSize[0], contentPos.y);\n        setProp('width', props.columns || items[1], props.itemSize[1], contentPos.x);\n      } else {\n        horizontal ? setProp('width', props.columns || items, props.itemSize, contentPos.x) : setProp('height', items, props.itemSize, contentPos.y);\n      }\n    }\n  };\n\n  var setContentPosition = function setContentPosition(pos) {\n    if (_contentRef.current && !props.appendOnly) {\n      var first = pos ? pos.first : firstState;\n\n      var calculateTranslateVal = function calculateTranslateVal(_first, _size) {\n        return _first * _size;\n      };\n\n      var setTransform = function setTransform() {\n        var _x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n        var _y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n        _stickyRef.current && (_stickyRef.current.style.top = \"-\".concat(_y, \"px\"));\n        contentStyle.current = _objectSpread(_objectSpread({}, contentStyle.current), {\n          transform: \"translate3d(\".concat(_x, \"px, \").concat(_y, \"px, 0)\")\n        });\n      };\n\n      if (both) {\n        setTransform(calculateTranslateVal(first.cols, props.itemSize[1]), calculateTranslateVal(first.rows, props.itemSize[0]));\n      } else {\n        var translateVal = calculateTranslateVal(first, props.itemSize);\n        horizontal ? setTransform(translateVal, 0) : setTransform(0, translateVal);\n      }\n    }\n  };\n\n  var onScrollPositionChange = function onScrollPositionChange(event) {\n    var target = event.target;\n    var contentPos = getContentPosition();\n\n    var calculateScrollPos = function calculateScrollPos(_pos, _cpos) {\n      return _pos ? _pos > _cpos ? _pos - _cpos : _pos : 0;\n    };\n\n    var calculateCurrentIndex = function calculateCurrentIndex(_pos, _size) {\n      return Math.floor(_pos / (_size || _pos));\n    };\n\n    var calculateTriggerIndex = function calculateTriggerIndex(_currentIndex, _first, _last, _num, _numT, _isScrollDownOrRight) {\n      return _currentIndex <= _numT ? _numT : _isScrollDownOrRight ? _last - _num - _numT : _first + _numT - 1;\n    };\n\n    var calculateFirst = function calculateFirst(_currentIndex, _triggerIndex, _first, _last, _num, _numT, _isScrollDownOrRight) {\n      if (_currentIndex <= _numT) {\n        return 0;\n      }\n\n      return Math.max(0, _isScrollDownOrRight ? _currentIndex < _triggerIndex ? _first : _currentIndex - _numT : _currentIndex > _triggerIndex ? _first : _currentIndex - 2 * _numT);\n    };\n\n    var calculateLast = function calculateLast(_currentIndex, _first, _last, _num, _numT, _isCols) {\n      var lastValue = _first + _num + 2 * _numT;\n\n      if (_currentIndex >= _numT) {\n        lastValue = lastValue + (_numT + 1);\n      }\n\n      return getLast(lastValue, _isCols);\n    };\n\n    var scrollTop = calculateScrollPos(target.scrollTop, contentPos.top);\n    var scrollLeft = calculateScrollPos(target.scrollLeft, contentPos.left);\n    var newFirst = both ? {\n      rows: 0,\n      cols: 0\n    } : 0;\n    var newLast = lastState;\n    var isRangeChanged = false;\n    var newScrollPos = lastScrollPos.current;\n\n    if (both) {\n      var isScrollDown = lastScrollPos.current.top <= scrollTop;\n      var isScrollRight = lastScrollPos.current.left <= scrollLeft;\n\n      if (!props.appendOnly || props.appendOnly && (isScrollDown || isScrollRight)) {\n        var currentIndex = {\n          rows: calculateCurrentIndex(scrollTop, props.itemSize[0]),\n          cols: calculateCurrentIndex(scrollLeft, props.itemSize[1])\n        };\n        var triggerIndex = {\n          rows: calculateTriggerIndex(currentIndex.rows, firstState.rows, lastState.rows, numItemsInViewportState.rows, numToleratedItemsState[0], isScrollDown),\n          cols: calculateTriggerIndex(currentIndex.cols, firstState.cols, lastState.cols, numItemsInViewportState.cols, numToleratedItemsState[1], isScrollRight)\n        };\n        newFirst = {\n          rows: calculateFirst(currentIndex.rows, triggerIndex.rows, firstState.rows, lastState.rows, numItemsInViewportState.rows, numToleratedItemsState[0], isScrollDown),\n          cols: calculateFirst(currentIndex.cols, triggerIndex.cols, firstState.cols, lastState.cols, numItemsInViewportState.cols, numToleratedItemsState[1], isScrollRight)\n        };\n        newLast = {\n          rows: calculateLast(currentIndex.rows, newFirst.rows, lastState.rows, numItemsInViewportState.rows, numToleratedItemsState[0]),\n          cols: calculateLast(currentIndex.cols, newFirst.cols, lastState.cols, numItemsInViewportState.cols, numToleratedItemsState[1], true)\n        };\n        isRangeChanged = newFirst.rows !== firstState.rows || newLast.rows !== lastState.rows || newFirst.cols !== firstState.cols || newLast.cols !== lastState.cols || isItemRangeChanged.current;\n        newScrollPos = {\n          top: scrollTop,\n          left: scrollLeft\n        };\n      }\n    } else {\n      var scrollPos = horizontal ? scrollLeft : scrollTop;\n      var isScrollDownOrRight = lastScrollPos.current <= scrollPos;\n\n      if (!props.appendOnly || props.appendOnly && isScrollDownOrRight) {\n        var _currentIndex2 = calculateCurrentIndex(scrollPos, props.itemSize);\n\n        var _triggerIndex2 = calculateTriggerIndex(_currentIndex2, firstState, lastState, numItemsInViewportState, numToleratedItemsState, isScrollDownOrRight);\n\n        newFirst = calculateFirst(_currentIndex2, _triggerIndex2, firstState, lastState, numItemsInViewportState, numToleratedItemsState, isScrollDownOrRight);\n        newLast = calculateLast(_currentIndex2, newFirst, lastState, numItemsInViewportState, numToleratedItemsState);\n        isRangeChanged = newFirst !== firstState || newLast !== lastState || isItemRangeChanged.current;\n        newScrollPos = scrollPos;\n      }\n    }\n\n    return {\n      first: newFirst,\n      last: newLast,\n      isRangeChanged: isRangeChanged,\n      scrollPos: newScrollPos\n    };\n  };\n\n  var onScrollChange = function onScrollChange(event) {\n    var _onScrollPositionChan = onScrollPositionChange(event),\n        first = _onScrollPositionChan.first,\n        last = _onScrollPositionChan.last,\n        isRangeChanged = _onScrollPositionChan.isRangeChanged,\n        scrollPos = _onScrollPositionChan.scrollPos;\n\n    if (isRangeChanged) {\n      var newState = {\n        first: first,\n        last: last\n      };\n      setContentPosition(newState);\n      setFirstState(first);\n      setLastState(last);\n      lastScrollPos.current = scrollPos;\n      props.onScrollIndexChange && props.onScrollIndexChange(newState);\n\n      if (props.lazy && isPageChanged(first)) {\n        var newLazyLoadState = {\n          first: props.step ? Math.min(getPageByFirst(first) * props.step, (props.items || []).length - props.step) : first,\n          last: Math.min(props.step ? (getPageByFirst(first) + 1) * props.step : last, (props.items || []).length)\n        };\n        var isLazyStateChanged = !lazyLoadState.current || lazyLoadState.current.first !== newLazyLoadState.first || lazyLoadState.current.last !== newLazyLoadState.last;\n        isLazyStateChanged && props.onLazyLoad && props.onLazyLoad(newLazyLoadState);\n        lazyLoadState.current = newLazyLoadState;\n      }\n    }\n  };\n\n  var _onScroll = function onScroll(event) {\n    props.onScroll && props.onScroll(event);\n\n    if (props.delay) {\n      if (scrollTimeout.current) {\n        clearTimeout(scrollTimeout.current);\n      }\n\n      if (isPageChanged(firstState)) {\n        if (!loadingState && props.showLoader) {\n          var _onScrollPositionChan2 = onScrollPositionChange(event),\n              isRangeChanged = _onScrollPositionChan2.isRangeChanged;\n\n          var changed = isRangeChanged || (props.step ? isPageChanged(firstState) : false);\n          changed && setLoadingState(true);\n        }\n\n        scrollTimeout.current = setTimeout(function () {\n          onScrollChange(event);\n\n          if (loadingState && props.showLoader && (!props.lazy || props.loading === undefined)) {\n            setLoadingState(false);\n            setPageState(getPageByFirst(firstState));\n          }\n        }, props.delay);\n      }\n    } else {\n      onScrollChange(event);\n    }\n  };\n\n  var onResize = function onResize() {\n    if (resizeTimeout.current) {\n      clearTimeout(resizeTimeout.current);\n    }\n\n    resizeTimeout.current = setTimeout(function () {\n      if (elementRef.current) {\n        var _ref3 = [DomHandler.getWidth(elementRef.current), DomHandler.getHeight(elementRef.current)],\n            width = _ref3[0],\n            height = _ref3[1];\n        var isDiffWidth = width !== defaultWidth.current,\n            isDiffHeight = height !== defaultHeight.current;\n        var reinit = both ? isDiffWidth || isDiffHeight : horizontal ? isDiffWidth : vertical ? isDiffHeight : false;\n\n        if (reinit) {\n          setNumToleratedItemsState(props.numToleratedItems);\n          defaultWidth.current = width;\n          defaultHeight.current = height;\n          defaultContentWidth.current = DomHandler.getWidth(_contentRef.current);\n          defaultContentHeight.current = DomHandler.getHeight(_contentRef.current);\n        }\n      }\n    }, props.resizeDelay);\n  };\n\n  var getOptions = function getOptions(renderedIndex) {\n    var count = (props.items || []).length;\n    var index = both ? firstState.rows + renderedIndex : firstState + renderedIndex;\n    return {\n      index: index,\n      count: count,\n      first: index === 0,\n      last: index === count - 1,\n      even: index % 2 === 0,\n      odd: index % 2 !== 0,\n      props: props\n    };\n  };\n\n  var loaderOptions = function loaderOptions(index, extOptions) {\n    var count = loaderArrState.length || 0;\n    return _objectSpread({\n      index: index,\n      count: count,\n      first: index === 0,\n      last: index === count - 1,\n      even: index % 2 === 0,\n      odd: index % 2 !== 0,\n      props: props\n    }, extOptions);\n  };\n\n  var loadedItems = function loadedItems() {\n    var items = props.items;\n\n    if (items && !loadingState) {\n      if (both) {\n        return items.slice(props.appendOnly ? 0 : firstState.rows, lastState.rows).map(function (item) {\n          return props.columns ? item : item.slice(props.appendOnly ? 0 : firstState.cols, lastState.cols);\n        });\n      } else if (horizontal && props.columns) {\n        return items;\n      }\n\n      return items.slice(props.appendOnly ? 0 : firstState, lastState);\n    }\n\n    return [];\n  };\n\n  var viewInit = function viewInit() {\n    if (elementRef.current && isVisible()) {\n      setContentElement(_contentRef.current);\n      init();\n      bindWindowResizeListener();\n      bindOrientationChangeListener();\n      defaultWidth.current = DomHandler.getWidth(elementRef.current);\n      defaultHeight.current = DomHandler.getHeight(elementRef.current);\n      defaultContentWidth.current = DomHandler.getWidth(_contentRef.current);\n      defaultContentHeight.current = DomHandler.getHeight(_contentRef.current);\n    }\n  };\n\n  var init = function init() {\n    if (!props.disabled && isVisible()) {\n      setSize();\n      calculateOptions();\n      setSpacerSize();\n    }\n  };\n\n  var isVisible = function isVisible() {\n    if (DomHandler.isVisible(elementRef.current)) {\n      var rect = elementRef.current.getBoundingClientRect();\n      return rect.width > 0 && rect.height > 0;\n    }\n\n    return false;\n  };\n\n  React.useEffect(function () {\n    if (!viewInitialized.current && isVisible()) {\n      viewInit();\n      viewInitialized.current = true;\n    }\n  });\n  useUpdateEffect(function () {\n    init();\n  }, [props.itemSize, props.scrollHeight, props.scrollWidth]);\n  useUpdateEffect(function () {\n    if (props.numToleratedItems !== numToleratedItemsState) {\n      setNumToleratedItemsState(props.numToleratedItems);\n    }\n  }, [props.numToleratedItems]);\n  useUpdateEffect(function () {\n    if (props.numToleratedItems === numToleratedItemsState) {\n      init(); // reinit after resizing\n    }\n  }, [numToleratedItemsState]);\n  useUpdateEffect(function () {\n    // Check if the previous/current rows array exists\n    var prevRowsExist = prevProps.items !== undefined && prevProps.items !== null;\n    var currentRowsExist = props.items !== undefined && props.items !== null; // Get the length of the previous/current rows array, or 0 if it doesn't exist\n\n    var prevRowsLength = prevRowsExist ? prevProps.items.length : 0;\n    var currentRowsLength = currentRowsExist ? props.items.length : 0; // Check if the length of the rows arrays has changed\n\n    var valuesChanged = prevRowsLength !== currentRowsLength; // If both is true, we also need to check the lengths of the first element (assuming it's a matrix)\n\n    if (both && !valuesChanged) {\n      // Get the length of the columns or 0\n      var prevColumnsLength = prevRowsExist && prevProps.items.length > 0 ? prevProps.items[0].length : 0;\n      var currentColumnsLength = currentRowsExist && props.items.length > 0 ? props.items[0].length : 0; // Check if the length of the columns has changed\n\n      valuesChanged = prevColumnsLength !== currentColumnsLength;\n    } // If the previous items array doesn't exist or if any values have changed, call the init function\n\n\n    if (!prevRowsExist || valuesChanged) {\n      init();\n    }\n\n    var loading = loadingState;\n\n    if (props.lazy && prevProps.loading !== props.loading && props.loading !== loadingState) {\n      setLoadingState(props.loading);\n      loading = props.loading;\n    }\n\n    calculateAutoSize(loading);\n  });\n  useUpdateEffect(function () {\n    lastScrollPos.current = both ? {\n      top: 0,\n      left: 0\n    } : 0;\n  }, [props.orientation]);\n  React.useImperativeHandle(ref, function () {\n    return {\n      props: props,\n      getElementRef: getElementRef,\n      scrollTo: scrollTo,\n      scrollToIndex: scrollToIndex,\n      scrollInView: scrollInView,\n      getRenderedRange: getRenderedRange\n    };\n  });\n\n  var createLoaderItem = function createLoaderItem(index) {\n    var extOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var options = loaderOptions(index, extOptions);\n    var content = ObjectUtils.getJSXElement(props.loadingTemplate, options);\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      key: index\n    }, content);\n  };\n\n  var createLoader = function createLoader() {\n    var iconClassName = 'p-virtualscroller-loading-icon';\n    var loadingIconProps = mergeProps({\n      className: iconClassName\n    }, ptm('loadingIcon'));\n    var icon = props.loadingIcon || /*#__PURE__*/React.createElement(SpinnerIcon, _extends({}, loadingIconProps, {\n      spin: true\n    }));\n    var loadingIcon = IconUtils.getJSXIcon(icon, _objectSpread({}, loadingIconProps), {\n      props: props\n    });\n\n    if (!props.loaderDisabled && props.showLoader && loadingState) {\n      var _className = classNames('p-virtualscroller-loader', {\n        'p-component-overlay': !props.loadingTemplate\n      });\n\n      var _content = loadingIcon;\n\n      if (props.loadingTemplate) {\n        _content = loaderArrState.map(function (_, index) {\n          return createLoaderItem(index, both && {\n            numCols: numItemsInViewportState.cols\n          });\n        });\n      } else if (props.loaderIconTemplate) {\n        var defaultContentOptions = {\n          iconClassName: iconClassName,\n          element: _content,\n          props: props\n        };\n        _content = ObjectUtils.getJSXElement(props.loaderIconTemplate, defaultContentOptions);\n      }\n\n      var loaderProps = mergeProps({\n        className: _className\n      }, ptm('loader'));\n      return /*#__PURE__*/React.createElement(\"div\", loaderProps, _content);\n    }\n\n    return null;\n  };\n\n  var createSpacer = function createSpacer() {\n    if (props.showSpacer) {\n      var spacerProps = mergeProps({\n        ref: _spacerRef,\n        style: spacerStyle.current,\n        className: 'p-virtualscroller-spacer'\n      }, ptm('spacer'));\n      return /*#__PURE__*/React.createElement(\"div\", spacerProps);\n    }\n\n    return null;\n  };\n\n  var createItem = function createItem(item, index) {\n    var options = getOptions(index);\n    var content = ObjectUtils.getJSXElement(props.itemTemplate, item, options);\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      key: options.index\n    }, content);\n  };\n\n  var createItems = function createItems() {\n    var items = loadedItems();\n    return items.map(createItem);\n  };\n\n  var createContent = function createContent() {\n    var items = createItems();\n    var className = classNames('p-virtualscroller-content', {\n      'p-virtualscroller-loading': loadingState\n    });\n    var contentProps = mergeProps({\n      ref: _contentRef,\n      style: contentStyle.current,\n      className: className\n    }, ptm('content'));\n    var content = /*#__PURE__*/React.createElement(\"div\", contentProps, items);\n\n    if (props.contentTemplate) {\n      var defaultOptions = {\n        style: contentStyle.current,\n        className: className,\n        spacerStyle: spacerStyle.current,\n        contentRef: function contentRef(el) {\n          return _contentRef.current = ObjectUtils.getRefElement(el);\n        },\n        spacerRef: function spacerRef(el) {\n          return _spacerRef.current = ObjectUtils.getRefElement(el);\n        },\n        stickyRef: function stickyRef(el) {\n          return _stickyRef.current = ObjectUtils.getRefElement(el);\n        },\n        items: loadedItems(),\n        getItemOptions: function getItemOptions(index) {\n          return getOptions(index);\n        },\n        children: items,\n        element: content,\n        props: props,\n        loading: loadingState,\n        getLoaderOptions: function getLoaderOptions(index, ext) {\n          return loaderOptions(index, ext);\n        },\n        loadingTemplate: props.loadingTemplate,\n        itemSize: props.itemSize,\n        rows: getRows(),\n        columns: getColumns(),\n        vertical: vertical,\n        horizontal: horizontal,\n        both: both\n      };\n      return ObjectUtils.getJSXElement(props.contentTemplate, defaultOptions);\n    }\n\n    return content;\n  };\n\n  if (props.disabled) {\n    var _content2 = ObjectUtils.getJSXElement(props.contentTemplate, {\n      items: props.items,\n      rows: props.items,\n      columns: props.columns\n    });\n\n    return /*#__PURE__*/React.createElement(React.Fragment, null, props.children, _content2);\n  }\n\n  var className = classNames('p-virtualscroller', {\n    'p-virtualscroller-inline': props.inline,\n    'p-virtualscroller-both p-both-scroll': both,\n    'p-virtualscroller-horizontal p-horizontal-scroll': horizontal\n  }, props.className);\n  var loader = createLoader();\n  var content = createContent();\n  var spacer = createSpacer();\n  var rootProps = mergeProps({\n    ref: elementRef,\n    className: className,\n    tabIndex: props.tabIndex,\n    style: props.style,\n    onScroll: function onScroll(e) {\n      return _onScroll(e);\n    }\n  }, VirtualScrollerBase.getOtherProps(props), ptm('root'));\n  return /*#__PURE__*/React.createElement(\"div\", rootProps, content, spacer, loader);\n}));\nVirtualScroller.displayName = 'VirtualScroller';\nexport { VirtualScroller };","map":{"version":3,"sources":["C:/wamp64/www/Movie/node_modules/primereact/virtualscroller/virtualscroller.esm.js"],"names":["React","PrimeReactContext","useMergeProps","usePrevious","useStyle","useResizeListener","useEventListener","useUpdateEffect","SpinnerIcon","DomHandler","ObjectUtils","classNames","IconUtils","ComponentBase","_extends","Object","assign","bind","n","e","arguments","length","t","r","hasOwnProperty","call","apply","_typeof","o","Symbol","iterator","constructor","prototype","toPrimitive","i","TypeError","String","Number","toPropertyKey","_defineProperty","defineProperty","value","enumerable","configurable","writable","_arrayWithHoles","Array","isArray","_iterableToArrayLimit","l","u","a","f","next","done","push","_arrayLikeToArray","_unsupportedIterableToArray","toString","slice","name","from","test","_nonIterableRest","_slicedToArray","styles","VirtualScrollerBase","extend","defaultProps","__TYPE","__parentMetadata","id","style","className","tabIndex","items","itemSize","scrollHeight","scrollWidth","orientation","step","numToleratedItems","delay","resizeDelay","appendOnly","inline","lazy","disabled","loaderDisabled","loadingIcon","columns","loading","undefined","autoSize","showSpacer","showLoader","loadingTemplate","loaderIconTemplate","itemTemplate","contentTemplate","onScroll","onScrollIndexChange","onLazyLoad","children","css","ownKeys","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","_objectSpread","forEach","getOwnPropertyDescriptors","defineProperties","VirtualScroller","memo","forwardRef","inProps","ref","mergeProps","context","useContext","props","getProps","prevProps","vertical","horizontal","both","_React$useState","useState","rows","cols","_React$useState2","firstState","setFirstState","_React$useState3","_React$useState4","lastState","setLastState","_React$useState5","_React$useState6","pageState","setPageState","_React$useState7","_React$useState8","numItemsInViewportState","setNumItemsInViewportState","_React$useState9","_React$useState10","numToleratedItemsState","setNumToleratedItemsState","_React$useState11","_React$useState12","loadingState","setLoadingState","_React$useState13","_React$useState14","loaderArrState","setLoaderArrState","_VirtualScrollerBase$","setMetaData","state","first","last","page","numItemsInViewport","loaderArr","ptm","elementRef","useRef","_contentRef","_spacerRef","_stickyRef","lastScrollPos","top","left","scrollTimeout","resizeTimeout","contentStyle","spacerStyle","defaultWidth","defaultHeight","defaultContentWidth","defaultContentHeight","isItemRangeChanged","lazyLoadState","viewInitialized","_useResizeListener","listener","event","onResize","when","_useResizeListener2","bindWindowResizeListener","_useEventListener","target","type","_useEventListener2","bindOrientationChangeListener","getElementRef","getPageByFirst","Math","floor","setContentElement","element","current","findSingle","isPageChanged","scrollTo","options","scrollToIndex","index","behavior","_calculateNumItems","calculateNumItems","contentPos","getContentPosition","calculateFirst","_index","_numT","calculateCoord","_first","_size","_cpos","scrollToItem","newFirst","isRangeChanged","scrollInView","to","_getRenderedRange","getRenderedRange","viewport","isToStart","isToEnd","pos","_pos2","getRows","loadedItems","getColumns","calculateFirstInViewport","_pos","firstInViewport","lastInViewport","_elementRef$current","scrollTop","scrollLeft","scrollPos","contentWidth","offsetWidth","contentHeight","offsetHeight","calculateNumItemsInViewport","_contentSize","_itemSize","ceil","calculateNumToleratedItems","_numItems","calculateOptions","_calculateNumItems2","calculateLast","_num","_isCols","getLast","map","Promise","resolve","then","min","calculateAutoSize","minHeight","minWidth","position","contain","_ref","getWidth","getHeight","width","height","_ref2","isCols","getComputedStyle","parseFloat","paddingLeft","max","right","paddingRight","paddingTop","bottom","paddingBottom","x","y","setSize","parentElement","concat","setProp","_name","_value","setSpacerSize","setContentPosition","calculateTranslateVal","setTransform","_x","_y","transform","translateVal","onScrollPositionChange","calculateScrollPos","calculateCurrentIndex","calculateTriggerIndex","_currentIndex","_last","_isScrollDownOrRight","_triggerIndex","lastValue","newLast","newScrollPos","isScrollDown","isScrollRight","currentIndex","triggerIndex","isScrollDownOrRight","_currentIndex2","_triggerIndex2","onScrollChange","_onScrollPositionChan","newState","newLazyLoadState","isLazyStateChanged","_onScroll","clearTimeout","_onScrollPositionChan2","changed","setTimeout","_ref3","isDiffWidth","isDiffHeight","reinit","getOptions","renderedIndex","count","even","odd","loaderOptions","extOptions","item","viewInit","isVisible","init","rect","getBoundingClientRect","useEffect","prevRowsExist","currentRowsExist","prevRowsLength","currentRowsLength","valuesChanged","prevColumnsLength","currentColumnsLength","useImperativeHandle","createLoaderItem","content","getJSXElement","createElement","Fragment","key","createLoader","iconClassName","loadingIconProps","icon","spin","getJSXIcon","_className","_content","_","numCols","defaultContentOptions","loaderProps","createSpacer","spacerProps","createItem","createItems","createContent","contentProps","defaultOptions","contentRef","el","getRefElement","spacerRef","stickyRef","getItemOptions","getLoaderOptions","ext","_content2","loader","spacer","rootProps","getOtherProps","displayName"],"mappings":"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","sourcesContent":["'use client';\nimport * as React from 'react';\nimport { PrimeReactContext } from 'primereact/api';\nimport { useMergeProps, usePrevious, useStyle, useResizeListener, useEventListener, useUpdateEffect } from 'primereact/hooks';\nimport { SpinnerIcon } from 'primereact/icons/spinner';\nimport { DomHandler, ObjectUtils, classNames, IconUtils } from 'primereact/utils';\nimport { ComponentBase } from 'primereact/componentbase';\n\nfunction _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, _extends.apply(null, arguments);\n}\n\nfunction _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\n\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\n\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\n\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\n\nfunction _arrayWithHoles(r) {\n  if (Array.isArray(r)) return r;\n}\n\nfunction _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e,\n      n,\n      i,\n      u,\n      a = [],\n      f = !0,\n      o = !1;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = !1;\n      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a;\n  }\n}\n\nfunction _arrayLikeToArray(r, a) {\n  (null == a || a > r.length) && (a = r.length);\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n  return n;\n}\n\nfunction _unsupportedIterableToArray(r, a) {\n  if (r) {\n    if (\"string\" == typeof r) return _arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0;\n  }\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _slicedToArray(r, e) {\n  return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest();\n}\n\nvar styles = \"\\n.p-virtualscroller {\\n    position: relative;\\n    overflow: auto;\\n    contain: strict;\\n    transform: translateZ(0);\\n    will-change: scroll-position;\\n    outline: 0 none;\\n}\\n\\n.p-virtualscroller-content {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    /*contain: content;*/\\n    min-height: 100%;\\n    min-width: 100%;\\n    will-change: transform;\\n}\\n\\n.p-virtualscroller-spacer {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    height: 1px;\\n    width: 1px;\\n    transform-origin: 0 0;\\n    pointer-events: none;\\n}\\n\\n.p-virtualscroller-loader {\\n    position: sticky;\\n    top: 0;\\n    left: 0;\\n    width: 100%;\\n    height: 100%;\\n}\\n\\n.p-virtualscroller-loader.p-component-overlay {\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n}\\n\\n.p-virtualscroller-loading-icon {\\n    font-size: 2rem;\\n}\\n\\n.p-virtualscroller-horizontal > .p-virtualscroller-content {\\n    display: flex;\\n}\\n\\n/* Inline */\\n.p-virtualscroller-inline .p-virtualscroller-content {\\n    position: static;\\n}\\n\";\nvar VirtualScrollerBase = ComponentBase.extend({\n  defaultProps: {\n    __TYPE: 'VirtualScroller',\n    __parentMetadata: null,\n    id: null,\n    style: null,\n    className: null,\n    tabIndex: 0,\n    items: null,\n    itemSize: 0,\n    scrollHeight: null,\n    scrollWidth: null,\n    orientation: 'vertical',\n    step: 0,\n    numToleratedItems: null,\n    delay: 0,\n    resizeDelay: 10,\n    appendOnly: false,\n    inline: false,\n    lazy: false,\n    disabled: false,\n    loaderDisabled: false,\n    loadingIcon: null,\n    columns: null,\n    loading: undefined,\n    autoSize: false,\n    showSpacer: true,\n    showLoader: false,\n    loadingTemplate: null,\n    loaderIconTemplate: null,\n    itemTemplate: null,\n    contentTemplate: null,\n    onScroll: null,\n    onScrollIndexChange: null,\n    onLazyLoad: null,\n    children: undefined\n  },\n  css: {\n    styles: styles\n  }\n});\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nvar VirtualScroller = /*#__PURE__*/React.memo(/*#__PURE__*/React.forwardRef(function (inProps, ref) {\n  var mergeProps = useMergeProps();\n  var context = React.useContext(PrimeReactContext);\n  var props = VirtualScrollerBase.getProps(inProps, context);\n  var prevProps = usePrevious(inProps) || {};\n  var vertical = props.orientation === 'vertical';\n  var horizontal = props.orientation === 'horizontal';\n  var both = props.orientation === 'both';\n  var _React$useState = React.useState(both ? {\n      rows: 0,\n      cols: 0\n    } : 0),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    firstState = _React$useState2[0],\n    setFirstState = _React$useState2[1];\n  var _React$useState3 = React.useState(both ? {\n      rows: 0,\n      cols: 0\n    } : 0),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    lastState = _React$useState4[0],\n    setLastState = _React$useState4[1];\n  var _React$useState5 = React.useState(0),\n    _React$useState6 = _slicedToArray(_React$useState5, 2),\n    pageState = _React$useState6[0],\n    setPageState = _React$useState6[1];\n  var _React$useState7 = React.useState(both ? {\n      rows: 0,\n      cols: 0\n    } : 0),\n    _React$useState8 = _slicedToArray(_React$useState7, 2),\n    numItemsInViewportState = _React$useState8[0],\n    setNumItemsInViewportState = _React$useState8[1];\n  var _React$useState9 = React.useState(props.numToleratedItems),\n    _React$useState10 = _slicedToArray(_React$useState9, 2),\n    numToleratedItemsState = _React$useState10[0],\n    setNumToleratedItemsState = _React$useState10[1];\n  var _React$useState11 = React.useState(props.loading || false),\n    _React$useState12 = _slicedToArray(_React$useState11, 2),\n    loadingState = _React$useState12[0],\n    setLoadingState = _React$useState12[1];\n  var _React$useState13 = React.useState([]),\n    _React$useState14 = _slicedToArray(_React$useState13, 2),\n    loaderArrState = _React$useState14[0],\n    setLoaderArrState = _React$useState14[1];\n  var _VirtualScrollerBase$ = VirtualScrollerBase.setMetaData({\n      props: props,\n      state: {\n        first: firstState,\n        last: lastState,\n        page: pageState,\n        numItemsInViewport: numItemsInViewportState,\n        numToleratedItems: numToleratedItemsState,\n        loading: loadingState,\n        loaderArr: loaderArrState\n      }\n    }),\n    ptm = _VirtualScrollerBase$.ptm;\n  useStyle(VirtualScrollerBase.css.styles, {\n    name: 'virtualscroller'\n  });\n  var elementRef = React.useRef(null);\n  var _contentRef = React.useRef(null);\n  var _spacerRef = React.useRef(null);\n  var _stickyRef = React.useRef(null);\n  var lastScrollPos = React.useRef(both ? {\n    top: 0,\n    left: 0\n  } : 0);\n  var scrollTimeout = React.useRef(null);\n  var resizeTimeout = React.useRef(null);\n  var contentStyle = React.useRef({});\n  var spacerStyle = React.useRef({});\n  var defaultWidth = React.useRef(null);\n  var defaultHeight = React.useRef(null);\n  var defaultContentWidth = React.useRef(null);\n  var defaultContentHeight = React.useRef(null);\n  var isItemRangeChanged = React.useRef(false);\n  var lazyLoadState = React.useRef(null);\n  var viewInitialized = React.useRef(false);\n  var _useResizeListener = useResizeListener({\n      listener: function listener(event) {\n        return onResize();\n      },\n      when: !props.disabled\n    }),\n    _useResizeListener2 = _slicedToArray(_useResizeListener, 1),\n    bindWindowResizeListener = _useResizeListener2[0];\n  var _useEventListener = useEventListener({\n      target: 'window',\n      type: 'orientationchange',\n      listener: function listener(event) {\n        return onResize();\n      },\n      when: !props.disabled\n    }),\n    _useEventListener2 = _slicedToArray(_useEventListener, 1),\n    bindOrientationChangeListener = _useEventListener2[0];\n  var getElementRef = function getElementRef() {\n    return elementRef;\n  };\n  var getPageByFirst = function getPageByFirst(first) {\n    return Math.floor((first + numToleratedItemsState * 4) / (props.step || 1));\n  };\n  var setContentElement = function setContentElement(element) {\n    _contentRef.current = element || _contentRef.current || DomHandler.findSingle(elementRef.current, '.p-virtualscroller-content');\n  };\n  var isPageChanged = function isPageChanged(first) {\n    return props.step ? pageState !== getPageByFirst(first) : true;\n  };\n  var scrollTo = function scrollTo(options) {\n    lastScrollPos.current = both ? {\n      top: 0,\n      left: 0\n    } : 0;\n    elementRef.current && elementRef.current.scrollTo(options);\n  };\n  var scrollToIndex = function scrollToIndex(index) {\n    var behavior = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'auto';\n    var _calculateNumItems = calculateNumItems(),\n      numToleratedItems = _calculateNumItems.numToleratedItems;\n    var contentPos = getContentPosition();\n    var calculateFirst = function calculateFirst() {\n      var _index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var _numT = arguments.length > 1 ? arguments[1] : undefined;\n      return _index <= _numT ? 0 : _index;\n    };\n    var calculateCoord = function calculateCoord(_first, _size, _cpos) {\n      return _first * _size + _cpos;\n    };\n    var scrollToItem = function scrollToItem() {\n      var left = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var top = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      return scrollTo({\n        left: left,\n        top: top,\n        behavior: behavior\n      });\n    };\n    var newFirst = both ? {\n      rows: 0,\n      cols: 0\n    } : 0;\n    var isRangeChanged = false;\n    if (both) {\n      newFirst = {\n        rows: calculateFirst(index[0], numToleratedItems[0]),\n        cols: calculateFirst(index[1], numToleratedItems[1])\n      };\n      scrollToItem(calculateCoord(newFirst.cols, props.itemSize[1], contentPos.left), calculateCoord(newFirst.rows, props.itemSize[0], contentPos.top));\n      isRangeChanged = firstState.rows !== newFirst.rows || firstState.cols !== newFirst.cols;\n    } else {\n      newFirst = calculateFirst(index, numToleratedItems);\n      horizontal ? scrollToItem(calculateCoord(newFirst, props.itemSize, contentPos.left), 0) : scrollToItem(0, calculateCoord(newFirst, props.itemSize, contentPos.top));\n      isRangeChanged = firstState !== newFirst;\n    }\n    isItemRangeChanged.current = isRangeChanged;\n    setFirstState(newFirst);\n  };\n  var scrollInView = function scrollInView(index, to) {\n    var behavior = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'auto';\n    if (to) {\n      var _getRenderedRange = getRenderedRange(),\n        first = _getRenderedRange.first,\n        viewport = _getRenderedRange.viewport;\n      var scrollToItem = function scrollToItem() {\n        var left = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        var top = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n        return scrollTo({\n          left: left,\n          top: top,\n          behavior: behavior\n        });\n      };\n      var isToStart = to === 'to-start';\n      var isToEnd = to === 'to-end';\n      if (isToStart) {\n        if (both) {\n          if (viewport.first.rows - first.rows > index[0]) {\n            scrollToItem(viewport.first.cols * props.itemSize[1], (viewport.first.rows - 1) * props.itemSize[0]);\n          } else if (viewport.first.cols - first.cols > index[1]) {\n            scrollToItem((viewport.first.cols - 1) * props.itemSize[1], viewport.first.rows * props.itemSize[0]);\n          }\n        } else if (viewport.first - first > index) {\n          var pos = (viewport.first - 1) * props.itemSize;\n          horizontal ? scrollToItem(pos, 0) : scrollToItem(0, pos);\n        }\n      } else if (isToEnd) {\n        if (both) {\n          if (viewport.last.rows - first.rows <= index[0] + 1) {\n            scrollToItem(viewport.first.cols * props.itemSize[1], (viewport.first.rows + 1) * props.itemSize[0]);\n          } else if (viewport.last.cols - first.cols <= index[1] + 1) {\n            scrollToItem((viewport.first.cols + 1) * props.itemSize[1], viewport.first.rows * props.itemSize[0]);\n          }\n        } else if (viewport.last - first <= index + 1) {\n          var _pos2 = (viewport.first + 1) * props.itemSize;\n          horizontal ? scrollToItem(_pos2, 0) : scrollToItem(0, _pos2);\n        }\n      }\n    } else {\n      scrollToIndex(index, behavior);\n    }\n  };\n  var getRows = function getRows() {\n    return loadingState ? props.loaderDisabled ? loaderArrState : [] : loadedItems();\n  };\n  var getColumns = function getColumns() {\n    if (props.columns && both || horizontal) {\n      return loadingState && props.loaderDisabled ? both ? loaderArrState[0] : loaderArrState : props.columns.slice(both ? firstState.cols : firstState, both ? lastState.cols : lastState);\n    }\n    return props.columns;\n  };\n  var getRenderedRange = function getRenderedRange() {\n    var calculateFirstInViewport = function calculateFirstInViewport(_pos, _size) {\n      return Math.floor(_pos / (_size || _pos));\n    };\n    var firstInViewport = firstState;\n    var lastInViewport = 0;\n    if (elementRef.current) {\n      var _elementRef$current = elementRef.current,\n        scrollTop = _elementRef$current.scrollTop,\n        scrollLeft = _elementRef$current.scrollLeft;\n      if (both) {\n        firstInViewport = {\n          rows: calculateFirstInViewport(scrollTop, props.itemSize[0]),\n          cols: calculateFirstInViewport(scrollLeft, props.itemSize[1])\n        };\n        lastInViewport = {\n          rows: firstInViewport.rows + numItemsInViewportState.rows,\n          cols: firstInViewport.cols + numItemsInViewportState.cols\n        };\n      } else {\n        var scrollPos = horizontal ? scrollLeft : scrollTop;\n        firstInViewport = calculateFirstInViewport(scrollPos, props.itemSize);\n        lastInViewport = firstInViewport + numItemsInViewportState;\n      }\n    }\n    return {\n      first: firstState,\n      last: lastState,\n      viewport: {\n        first: firstInViewport,\n        last: lastInViewport\n      }\n    };\n  };\n  var calculateNumItems = function calculateNumItems() {\n    var contentPos = getContentPosition();\n    var contentWidth = elementRef.current ? elementRef.current.offsetWidth - contentPos.left : 0;\n    var contentHeight = elementRef.current ? elementRef.current.offsetHeight - contentPos.top : 0;\n    var calculateNumItemsInViewport = function calculateNumItemsInViewport(_contentSize, _itemSize) {\n      return Math.ceil(_contentSize / (_itemSize || _contentSize));\n    };\n    var calculateNumToleratedItems = function calculateNumToleratedItems(_numItems) {\n      return Math.ceil(_numItems / 2);\n    };\n    var numItemsInViewport = both ? {\n      rows: calculateNumItemsInViewport(contentHeight, props.itemSize[0]),\n      cols: calculateNumItemsInViewport(contentWidth, props.itemSize[1])\n    } : calculateNumItemsInViewport(horizontal ? contentWidth : contentHeight, props.itemSize);\n    var numToleratedItems = numToleratedItemsState || (both ? [calculateNumToleratedItems(numItemsInViewport.rows), calculateNumToleratedItems(numItemsInViewport.cols)] : calculateNumToleratedItems(numItemsInViewport));\n    return {\n      numItemsInViewport: numItemsInViewport,\n      numToleratedItems: numToleratedItems\n    };\n  };\n  var calculateOptions = function calculateOptions() {\n    var _calculateNumItems2 = calculateNumItems(),\n      numItemsInViewport = _calculateNumItems2.numItemsInViewport,\n      numToleratedItems = _calculateNumItems2.numToleratedItems;\n    var calculateLast = function calculateLast(_first, _num, _numT) {\n      var _isCols = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n      return getLast(_first + _num + (_first < _numT ? 2 : 3) * _numT, _isCols);\n    };\n    var last = both ? {\n      rows: calculateLast(firstState.rows, numItemsInViewport.rows, numToleratedItems[0]),\n      cols: calculateLast(firstState.cols, numItemsInViewport.cols, numToleratedItems[1], true)\n    } : calculateLast(firstState, numItemsInViewport, numToleratedItems);\n    setNumItemsInViewportState(numItemsInViewport);\n    setNumToleratedItemsState(numToleratedItems);\n    setLastState(last);\n    if (props.showLoader) {\n      setLoaderArrState(both ? Array.from({\n        length: numItemsInViewport.rows\n      }).map(function () {\n        return Array.from({\n          length: numItemsInViewport.cols\n        });\n      }) : Array.from({\n        length: numItemsInViewport\n      }));\n    }\n    if (props.lazy) {\n      Promise.resolve().then(function () {\n        lazyLoadState.current = {\n          first: props.step ? both ? {\n            rows: 0,\n            cols: firstState.cols\n          } : 0 : firstState,\n          last: Math.min(props.step ? props.step : last, (props.items || []).length)\n        };\n        props.onLazyLoad && props.onLazyLoad(lazyLoadState.current);\n      });\n    }\n  };\n  var calculateAutoSize = function calculateAutoSize(loading) {\n    if (props.autoSize && !loading) {\n      Promise.resolve().then(function () {\n        if (_contentRef.current) {\n          _contentRef.current.style.minHeight = _contentRef.current.style.minWidth = 'auto';\n          _contentRef.current.style.position = 'relative';\n          elementRef.current.style.contain = 'none';\n\n          /*const [contentWidth, contentHeight] = [DomHandler.getWidth(contentRef.current), DomHandler.getHeight(contentRef.current)];\n           contentWidth !== defaultContentWidth.current && (elementRef.current.style.width = '');\n          contentHeight !== defaultContentHeight.current && (elementRef.current.style.height = '');*/\n\n          var _ref = [DomHandler.getWidth(elementRef.current), DomHandler.getHeight(elementRef.current)],\n            width = _ref[0],\n            height = _ref[1];\n          (both || horizontal) && (elementRef.current.style.width = (width < defaultWidth.current ? width : props.scrollWidth || defaultWidth.current) + 'px');\n          (both || vertical) && (elementRef.current.style.height = (height < defaultHeight.current ? height : props.scrollHeight || defaultHeight.current) + 'px');\n          _contentRef.current.style.minHeight = _contentRef.current.style.minWidth = '';\n          _contentRef.current.style.position = '';\n          elementRef.current.style.contain = '';\n        }\n      });\n    }\n  };\n  var getLast = function getLast() {\n    var _ref2;\n    var last = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    var isCols = arguments.length > 1 ? arguments[1] : undefined;\n    return props.items ? Math.min(isCols ? ((_ref2 = props.columns || props.items[0]) === null || _ref2 === void 0 ? void 0 : _ref2.length) || 0 : (props.items || []).length, last) : 0;\n  };\n  var getContentPosition = function getContentPosition() {\n    if (_contentRef.current) {\n      var style = getComputedStyle(_contentRef.current);\n      var left = parseFloat(style.paddingLeft) + Math.max(parseFloat(style.left) || 0, 0);\n      var right = parseFloat(style.paddingRight) + Math.max(parseFloat(style.right) || 0, 0);\n      var top = parseFloat(style.paddingTop) + Math.max(parseFloat(style.top) || 0, 0);\n      var bottom = parseFloat(style.paddingBottom) + Math.max(parseFloat(style.bottom) || 0, 0);\n      return {\n        left: left,\n        right: right,\n        top: top,\n        bottom: bottom,\n        x: left + right,\n        y: top + bottom\n      };\n    }\n    return {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0,\n      x: 0,\n      y: 0\n    };\n  };\n  var setSize = function setSize() {\n    if (elementRef.current) {\n      var parentElement = elementRef.current.parentElement;\n      var width = props.scrollWidth || \"\".concat(elementRef.current.offsetWidth || parentElement.offsetWidth, \"px\");\n      var height = props.scrollHeight || \"\".concat(elementRef.current.offsetHeight || parentElement.offsetHeight, \"px\");\n      var setProp = function setProp(_name, _value) {\n        return elementRef.current.style[_name] = _value;\n      };\n      if (both || horizontal) {\n        setProp('height', height);\n        setProp('width', width);\n      } else {\n        setProp('height', height);\n      }\n    }\n  };\n  var setSpacerSize = function setSpacerSize() {\n    var items = props.items;\n    if (items) {\n      var contentPos = getContentPosition();\n      var setProp = function setProp(_name, _value, _size) {\n        var _cpos = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n        return spacerStyle.current = _objectSpread(_objectSpread({}, spacerStyle.current), _defineProperty({}, \"\".concat(_name), (_value || []).length * _size + _cpos + 'px'));\n      };\n      if (both) {\n        setProp('height', items, props.itemSize[0], contentPos.y);\n        setProp('width', props.columns || items[1], props.itemSize[1], contentPos.x);\n      } else {\n        horizontal ? setProp('width', props.columns || items, props.itemSize, contentPos.x) : setProp('height', items, props.itemSize, contentPos.y);\n      }\n    }\n  };\n  var setContentPosition = function setContentPosition(pos) {\n    if (_contentRef.current && !props.appendOnly) {\n      var first = pos ? pos.first : firstState;\n      var calculateTranslateVal = function calculateTranslateVal(_first, _size) {\n        return _first * _size;\n      };\n      var setTransform = function setTransform() {\n        var _x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        var _y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n        _stickyRef.current && (_stickyRef.current.style.top = \"-\".concat(_y, \"px\"));\n        contentStyle.current = _objectSpread(_objectSpread({}, contentStyle.current), {\n          transform: \"translate3d(\".concat(_x, \"px, \").concat(_y, \"px, 0)\")\n        });\n      };\n      if (both) {\n        setTransform(calculateTranslateVal(first.cols, props.itemSize[1]), calculateTranslateVal(first.rows, props.itemSize[0]));\n      } else {\n        var translateVal = calculateTranslateVal(first, props.itemSize);\n        horizontal ? setTransform(translateVal, 0) : setTransform(0, translateVal);\n      }\n    }\n  };\n  var onScrollPositionChange = function onScrollPositionChange(event) {\n    var target = event.target;\n    var contentPos = getContentPosition();\n    var calculateScrollPos = function calculateScrollPos(_pos, _cpos) {\n      return _pos ? _pos > _cpos ? _pos - _cpos : _pos : 0;\n    };\n    var calculateCurrentIndex = function calculateCurrentIndex(_pos, _size) {\n      return Math.floor(_pos / (_size || _pos));\n    };\n    var calculateTriggerIndex = function calculateTriggerIndex(_currentIndex, _first, _last, _num, _numT, _isScrollDownOrRight) {\n      return _currentIndex <= _numT ? _numT : _isScrollDownOrRight ? _last - _num - _numT : _first + _numT - 1;\n    };\n    var calculateFirst = function calculateFirst(_currentIndex, _triggerIndex, _first, _last, _num, _numT, _isScrollDownOrRight) {\n      if (_currentIndex <= _numT) {\n        return 0;\n      }\n      return Math.max(0, _isScrollDownOrRight ? _currentIndex < _triggerIndex ? _first : _currentIndex - _numT : _currentIndex > _triggerIndex ? _first : _currentIndex - 2 * _numT);\n    };\n    var calculateLast = function calculateLast(_currentIndex, _first, _last, _num, _numT, _isCols) {\n      var lastValue = _first + _num + 2 * _numT;\n      if (_currentIndex >= _numT) {\n        lastValue = lastValue + (_numT + 1);\n      }\n      return getLast(lastValue, _isCols);\n    };\n    var scrollTop = calculateScrollPos(target.scrollTop, contentPos.top);\n    var scrollLeft = calculateScrollPos(target.scrollLeft, contentPos.left);\n    var newFirst = both ? {\n      rows: 0,\n      cols: 0\n    } : 0;\n    var newLast = lastState;\n    var isRangeChanged = false;\n    var newScrollPos = lastScrollPos.current;\n    if (both) {\n      var isScrollDown = lastScrollPos.current.top <= scrollTop;\n      var isScrollRight = lastScrollPos.current.left <= scrollLeft;\n      if (!props.appendOnly || props.appendOnly && (isScrollDown || isScrollRight)) {\n        var currentIndex = {\n          rows: calculateCurrentIndex(scrollTop, props.itemSize[0]),\n          cols: calculateCurrentIndex(scrollLeft, props.itemSize[1])\n        };\n        var triggerIndex = {\n          rows: calculateTriggerIndex(currentIndex.rows, firstState.rows, lastState.rows, numItemsInViewportState.rows, numToleratedItemsState[0], isScrollDown),\n          cols: calculateTriggerIndex(currentIndex.cols, firstState.cols, lastState.cols, numItemsInViewportState.cols, numToleratedItemsState[1], isScrollRight)\n        };\n        newFirst = {\n          rows: calculateFirst(currentIndex.rows, triggerIndex.rows, firstState.rows, lastState.rows, numItemsInViewportState.rows, numToleratedItemsState[0], isScrollDown),\n          cols: calculateFirst(currentIndex.cols, triggerIndex.cols, firstState.cols, lastState.cols, numItemsInViewportState.cols, numToleratedItemsState[1], isScrollRight)\n        };\n        newLast = {\n          rows: calculateLast(currentIndex.rows, newFirst.rows, lastState.rows, numItemsInViewportState.rows, numToleratedItemsState[0]),\n          cols: calculateLast(currentIndex.cols, newFirst.cols, lastState.cols, numItemsInViewportState.cols, numToleratedItemsState[1], true)\n        };\n        isRangeChanged = newFirst.rows !== firstState.rows || newLast.rows !== lastState.rows || newFirst.cols !== firstState.cols || newLast.cols !== lastState.cols || isItemRangeChanged.current;\n        newScrollPos = {\n          top: scrollTop,\n          left: scrollLeft\n        };\n      }\n    } else {\n      var scrollPos = horizontal ? scrollLeft : scrollTop;\n      var isScrollDownOrRight = lastScrollPos.current <= scrollPos;\n      if (!props.appendOnly || props.appendOnly && isScrollDownOrRight) {\n        var _currentIndex2 = calculateCurrentIndex(scrollPos, props.itemSize);\n        var _triggerIndex2 = calculateTriggerIndex(_currentIndex2, firstState, lastState, numItemsInViewportState, numToleratedItemsState, isScrollDownOrRight);\n        newFirst = calculateFirst(_currentIndex2, _triggerIndex2, firstState, lastState, numItemsInViewportState, numToleratedItemsState, isScrollDownOrRight);\n        newLast = calculateLast(_currentIndex2, newFirst, lastState, numItemsInViewportState, numToleratedItemsState);\n        isRangeChanged = newFirst !== firstState || newLast !== lastState || isItemRangeChanged.current;\n        newScrollPos = scrollPos;\n      }\n    }\n    return {\n      first: newFirst,\n      last: newLast,\n      isRangeChanged: isRangeChanged,\n      scrollPos: newScrollPos\n    };\n  };\n  var onScrollChange = function onScrollChange(event) {\n    var _onScrollPositionChan = onScrollPositionChange(event),\n      first = _onScrollPositionChan.first,\n      last = _onScrollPositionChan.last,\n      isRangeChanged = _onScrollPositionChan.isRangeChanged,\n      scrollPos = _onScrollPositionChan.scrollPos;\n    if (isRangeChanged) {\n      var newState = {\n        first: first,\n        last: last\n      };\n      setContentPosition(newState);\n      setFirstState(first);\n      setLastState(last);\n      lastScrollPos.current = scrollPos;\n      props.onScrollIndexChange && props.onScrollIndexChange(newState);\n      if (props.lazy && isPageChanged(first)) {\n        var newLazyLoadState = {\n          first: props.step ? Math.min(getPageByFirst(first) * props.step, (props.items || []).length - props.step) : first,\n          last: Math.min(props.step ? (getPageByFirst(first) + 1) * props.step : last, (props.items || []).length)\n        };\n        var isLazyStateChanged = !lazyLoadState.current || lazyLoadState.current.first !== newLazyLoadState.first || lazyLoadState.current.last !== newLazyLoadState.last;\n        isLazyStateChanged && props.onLazyLoad && props.onLazyLoad(newLazyLoadState);\n        lazyLoadState.current = newLazyLoadState;\n      }\n    }\n  };\n  var _onScroll = function onScroll(event) {\n    props.onScroll && props.onScroll(event);\n    if (props.delay) {\n      if (scrollTimeout.current) {\n        clearTimeout(scrollTimeout.current);\n      }\n      if (isPageChanged(firstState)) {\n        if (!loadingState && props.showLoader) {\n          var _onScrollPositionChan2 = onScrollPositionChange(event),\n            isRangeChanged = _onScrollPositionChan2.isRangeChanged;\n          var changed = isRangeChanged || (props.step ? isPageChanged(firstState) : false);\n          changed && setLoadingState(true);\n        }\n        scrollTimeout.current = setTimeout(function () {\n          onScrollChange(event);\n          if (loadingState && props.showLoader && (!props.lazy || props.loading === undefined)) {\n            setLoadingState(false);\n            setPageState(getPageByFirst(firstState));\n          }\n        }, props.delay);\n      }\n    } else {\n      onScrollChange(event);\n    }\n  };\n  var onResize = function onResize() {\n    if (resizeTimeout.current) {\n      clearTimeout(resizeTimeout.current);\n    }\n    resizeTimeout.current = setTimeout(function () {\n      if (elementRef.current) {\n        var _ref3 = [DomHandler.getWidth(elementRef.current), DomHandler.getHeight(elementRef.current)],\n          width = _ref3[0],\n          height = _ref3[1];\n        var isDiffWidth = width !== defaultWidth.current,\n          isDiffHeight = height !== defaultHeight.current;\n        var reinit = both ? isDiffWidth || isDiffHeight : horizontal ? isDiffWidth : vertical ? isDiffHeight : false;\n        if (reinit) {\n          setNumToleratedItemsState(props.numToleratedItems);\n          defaultWidth.current = width;\n          defaultHeight.current = height;\n          defaultContentWidth.current = DomHandler.getWidth(_contentRef.current);\n          defaultContentHeight.current = DomHandler.getHeight(_contentRef.current);\n        }\n      }\n    }, props.resizeDelay);\n  };\n  var getOptions = function getOptions(renderedIndex) {\n    var count = (props.items || []).length;\n    var index = both ? firstState.rows + renderedIndex : firstState + renderedIndex;\n    return {\n      index: index,\n      count: count,\n      first: index === 0,\n      last: index === count - 1,\n      even: index % 2 === 0,\n      odd: index % 2 !== 0,\n      props: props\n    };\n  };\n  var loaderOptions = function loaderOptions(index, extOptions) {\n    var count = loaderArrState.length || 0;\n    return _objectSpread({\n      index: index,\n      count: count,\n      first: index === 0,\n      last: index === count - 1,\n      even: index % 2 === 0,\n      odd: index % 2 !== 0,\n      props: props\n    }, extOptions);\n  };\n  var loadedItems = function loadedItems() {\n    var items = props.items;\n    if (items && !loadingState) {\n      if (both) {\n        return items.slice(props.appendOnly ? 0 : firstState.rows, lastState.rows).map(function (item) {\n          return props.columns ? item : item.slice(props.appendOnly ? 0 : firstState.cols, lastState.cols);\n        });\n      } else if (horizontal && props.columns) {\n        return items;\n      }\n      return items.slice(props.appendOnly ? 0 : firstState, lastState);\n    }\n    return [];\n  };\n  var viewInit = function viewInit() {\n    if (elementRef.current && isVisible()) {\n      setContentElement(_contentRef.current);\n      init();\n      bindWindowResizeListener();\n      bindOrientationChangeListener();\n      defaultWidth.current = DomHandler.getWidth(elementRef.current);\n      defaultHeight.current = DomHandler.getHeight(elementRef.current);\n      defaultContentWidth.current = DomHandler.getWidth(_contentRef.current);\n      defaultContentHeight.current = DomHandler.getHeight(_contentRef.current);\n    }\n  };\n  var init = function init() {\n    if (!props.disabled && isVisible()) {\n      setSize();\n      calculateOptions();\n      setSpacerSize();\n    }\n  };\n  var isVisible = function isVisible() {\n    if (DomHandler.isVisible(elementRef.current)) {\n      var rect = elementRef.current.getBoundingClientRect();\n      return rect.width > 0 && rect.height > 0;\n    }\n    return false;\n  };\n  React.useEffect(function () {\n    if (!viewInitialized.current && isVisible()) {\n      viewInit();\n      viewInitialized.current = true;\n    }\n  });\n  useUpdateEffect(function () {\n    init();\n  }, [props.itemSize, props.scrollHeight, props.scrollWidth]);\n  useUpdateEffect(function () {\n    if (props.numToleratedItems !== numToleratedItemsState) {\n      setNumToleratedItemsState(props.numToleratedItems);\n    }\n  }, [props.numToleratedItems]);\n  useUpdateEffect(function () {\n    if (props.numToleratedItems === numToleratedItemsState) {\n      init(); // reinit after resizing\n    }\n  }, [numToleratedItemsState]);\n  useUpdateEffect(function () {\n    // Check if the previous/current rows array exists\n    var prevRowsExist = prevProps.items !== undefined && prevProps.items !== null;\n    var currentRowsExist = props.items !== undefined && props.items !== null;\n\n    // Get the length of the previous/current rows array, or 0 if it doesn't exist\n    var prevRowsLength = prevRowsExist ? prevProps.items.length : 0;\n    var currentRowsLength = currentRowsExist ? props.items.length : 0;\n\n    // Check if the length of the rows arrays has changed\n    var valuesChanged = prevRowsLength !== currentRowsLength;\n\n    // If both is true, we also need to check the lengths of the first element (assuming it's a matrix)\n    if (both && !valuesChanged) {\n      // Get the length of the columns or 0\n      var prevColumnsLength = prevRowsExist && prevProps.items.length > 0 ? prevProps.items[0].length : 0;\n      var currentColumnsLength = currentRowsExist && props.items.length > 0 ? props.items[0].length : 0;\n\n      // Check if the length of the columns has changed\n      valuesChanged = prevColumnsLength !== currentColumnsLength;\n    }\n\n    // If the previous items array doesn't exist or if any values have changed, call the init function\n    if (!prevRowsExist || valuesChanged) {\n      init();\n    }\n    var loading = loadingState;\n    if (props.lazy && prevProps.loading !== props.loading && props.loading !== loadingState) {\n      setLoadingState(props.loading);\n      loading = props.loading;\n    }\n    calculateAutoSize(loading);\n  });\n  useUpdateEffect(function () {\n    lastScrollPos.current = both ? {\n      top: 0,\n      left: 0\n    } : 0;\n  }, [props.orientation]);\n  React.useImperativeHandle(ref, function () {\n    return {\n      props: props,\n      getElementRef: getElementRef,\n      scrollTo: scrollTo,\n      scrollToIndex: scrollToIndex,\n      scrollInView: scrollInView,\n      getRenderedRange: getRenderedRange\n    };\n  });\n  var createLoaderItem = function createLoaderItem(index) {\n    var extOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var options = loaderOptions(index, extOptions);\n    var content = ObjectUtils.getJSXElement(props.loadingTemplate, options);\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      key: index\n    }, content);\n  };\n  var createLoader = function createLoader() {\n    var iconClassName = 'p-virtualscroller-loading-icon';\n    var loadingIconProps = mergeProps({\n      className: iconClassName\n    }, ptm('loadingIcon'));\n    var icon = props.loadingIcon || /*#__PURE__*/React.createElement(SpinnerIcon, _extends({}, loadingIconProps, {\n      spin: true\n    }));\n    var loadingIcon = IconUtils.getJSXIcon(icon, _objectSpread({}, loadingIconProps), {\n      props: props\n    });\n    if (!props.loaderDisabled && props.showLoader && loadingState) {\n      var _className = classNames('p-virtualscroller-loader', {\n        'p-component-overlay': !props.loadingTemplate\n      });\n      var _content = loadingIcon;\n      if (props.loadingTemplate) {\n        _content = loaderArrState.map(function (_, index) {\n          return createLoaderItem(index, both && {\n            numCols: numItemsInViewportState.cols\n          });\n        });\n      } else if (props.loaderIconTemplate) {\n        var defaultContentOptions = {\n          iconClassName: iconClassName,\n          element: _content,\n          props: props\n        };\n        _content = ObjectUtils.getJSXElement(props.loaderIconTemplate, defaultContentOptions);\n      }\n      var loaderProps = mergeProps({\n        className: _className\n      }, ptm('loader'));\n      return /*#__PURE__*/React.createElement(\"div\", loaderProps, _content);\n    }\n    return null;\n  };\n  var createSpacer = function createSpacer() {\n    if (props.showSpacer) {\n      var spacerProps = mergeProps({\n        ref: _spacerRef,\n        style: spacerStyle.current,\n        className: 'p-virtualscroller-spacer'\n      }, ptm('spacer'));\n      return /*#__PURE__*/React.createElement(\"div\", spacerProps);\n    }\n    return null;\n  };\n  var createItem = function createItem(item, index) {\n    var options = getOptions(index);\n    var content = ObjectUtils.getJSXElement(props.itemTemplate, item, options);\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      key: options.index\n    }, content);\n  };\n  var createItems = function createItems() {\n    var items = loadedItems();\n    return items.map(createItem);\n  };\n  var createContent = function createContent() {\n    var items = createItems();\n    var className = classNames('p-virtualscroller-content', {\n      'p-virtualscroller-loading': loadingState\n    });\n    var contentProps = mergeProps({\n      ref: _contentRef,\n      style: contentStyle.current,\n      className: className\n    }, ptm('content'));\n    var content = /*#__PURE__*/React.createElement(\"div\", contentProps, items);\n    if (props.contentTemplate) {\n      var defaultOptions = {\n        style: contentStyle.current,\n        className: className,\n        spacerStyle: spacerStyle.current,\n        contentRef: function contentRef(el) {\n          return _contentRef.current = ObjectUtils.getRefElement(el);\n        },\n        spacerRef: function spacerRef(el) {\n          return _spacerRef.current = ObjectUtils.getRefElement(el);\n        },\n        stickyRef: function stickyRef(el) {\n          return _stickyRef.current = ObjectUtils.getRefElement(el);\n        },\n        items: loadedItems(),\n        getItemOptions: function getItemOptions(index) {\n          return getOptions(index);\n        },\n        children: items,\n        element: content,\n        props: props,\n        loading: loadingState,\n        getLoaderOptions: function getLoaderOptions(index, ext) {\n          return loaderOptions(index, ext);\n        },\n        loadingTemplate: props.loadingTemplate,\n        itemSize: props.itemSize,\n        rows: getRows(),\n        columns: getColumns(),\n        vertical: vertical,\n        horizontal: horizontal,\n        both: both\n      };\n      return ObjectUtils.getJSXElement(props.contentTemplate, defaultOptions);\n    }\n    return content;\n  };\n  if (props.disabled) {\n    var _content2 = ObjectUtils.getJSXElement(props.contentTemplate, {\n      items: props.items,\n      rows: props.items,\n      columns: props.columns\n    });\n    return /*#__PURE__*/React.createElement(React.Fragment, null, props.children, _content2);\n  }\n  var className = classNames('p-virtualscroller', {\n    'p-virtualscroller-inline': props.inline,\n    'p-virtualscroller-both p-both-scroll': both,\n    'p-virtualscroller-horizontal p-horizontal-scroll': horizontal\n  }, props.className);\n  var loader = createLoader();\n  var content = createContent();\n  var spacer = createSpacer();\n  var rootProps = mergeProps({\n    ref: elementRef,\n    className: className,\n    tabIndex: props.tabIndex,\n    style: props.style,\n    onScroll: function onScroll(e) {\n      return _onScroll(e);\n    }\n  }, VirtualScrollerBase.getOtherProps(props), ptm('root'));\n  return /*#__PURE__*/React.createElement(\"div\", rootProps, content, spacer, loader);\n}));\nVirtualScroller.displayName = 'VirtualScroller';\n\nexport { VirtualScroller };\n"]},"metadata":{},"sourceType":"module"}