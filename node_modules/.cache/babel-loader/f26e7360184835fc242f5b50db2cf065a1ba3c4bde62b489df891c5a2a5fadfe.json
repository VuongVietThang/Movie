{"ast":null,"code":"import { __rest, __assign } from '../../node_modules/tslib/tslib.es6.js';\nimport React, { forwardRef, useRef, useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from '../../_virtual/index.js';\nimport { CToastContext } from './CToastContext.js';\nimport { useForkedRef } from '../../hooks/useForkedRef.js';\nimport '@popperjs/core';\nimport { colorPropType } from '../../props.js';\nimport Transition from '../../node_modules/react-transition-group/esm/Transition.js';\nvar CToast = forwardRef(function (_a, ref) {\n  var children = _a.children,\n    _b = _a.animation,\n    animation = _b === void 0 ? true : _b,\n    _c = _a.autohide,\n    autohide = _c === void 0 ? true : _c,\n    className = _a.className,\n    color = _a.color,\n    _d = _a.delay,\n    delay = _d === void 0 ? 5000 : _d,\n    index = _a.index,\n    innerKey = _a.innerKey,\n    _e = _a.visible,\n    visible = _e === void 0 ? false : _e,\n    onClose = _a.onClose,\n    onShow = _a.onShow,\n    rest = __rest(_a, [\"children\", \"animation\", \"autohide\", \"className\", \"color\", \"delay\", \"index\", \"innerKey\", \"visible\", \"onClose\", \"onShow\"]);\n  var toastRef = useRef(null);\n  var forkedRef = useForkedRef(ref, toastRef);\n  var _f = useState(false),\n    _visible = _f[0],\n    setVisible = _f[1];\n  var timeout = useRef(undefined);\n  useEffect(function () {\n    setVisible(visible);\n  }, [visible]);\n  var contextValues = {\n    visible: _visible,\n    setVisible: setVisible\n  };\n  // triggered on mount and destroy\n  useEffect(function () {\n    return function () {\n      return clearTimeout(timeout.current);\n    };\n  }, []);\n  useEffect(function () {\n    _autohide();\n  }, [_visible]);\n  var _autohide = function () {\n    if (autohide) {\n      clearTimeout(timeout.current);\n      timeout.current = window.setTimeout(function () {\n        setVisible(false);\n      }, delay);\n    }\n  };\n  return React.createElement(Transition, {\n    in: _visible,\n    nodeRef: toastRef,\n    onEnter: function () {\n      return onShow && onShow(index !== null && index !== void 0 ? index : null);\n    },\n    onExited: function () {\n      return onClose && onClose(index !== null && index !== void 0 ? index : null);\n    },\n    timeout: 250,\n    unmountOnExit: true\n  }, function (state) {\n    var _a;\n    return React.createElement(CToastContext.Provider, {\n      value: contextValues\n    }, React.createElement(\"div\", __assign({\n      className: classNames('toast', (_a = {\n        fade: animation\n      }, _a[\"bg-\".concat(color)] = color, _a['border-0'] = color, _a['show showing'] = state === 'entering' || state === 'exiting', _a.show = state === 'entered', _a), className),\n      \"aria-live\": \"assertive\",\n      \"aria-atomic\": \"true\",\n      role: \"alert\",\n      onMouseEnter: function () {\n        return clearTimeout(timeout.current);\n      },\n      onMouseLeave: function () {\n        return _autohide();\n      }\n    }, rest, {\n      key: innerKey,\n      ref: forkedRef\n    }), children));\n  });\n});\nCToast.propTypes = {\n  animation: PropTypes.bool,\n  autohide: PropTypes.bool,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  color: colorPropType,\n  delay: PropTypes.number,\n  index: PropTypes.number,\n  innerKey: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  onClose: PropTypes.func,\n  onShow: PropTypes.func,\n  visible: PropTypes.bool\n};\nCToast.displayName = 'CToast';\nexport { CToast };","map":{"version":3,"names":["CToast","forwardRef","_a","ref","children","_b","animation","_c","autohide","className","color","_d","delay","index","innerKey","_e","visible","onClose","onShow","rest","__rest","toastRef","useRef","forkedRef","useForkedRef","_f","useState","_visible","setVisible","timeout","undefined","useEffect","contextValues","clearTimeout","current","_autohide","window","setTimeout","React","createElement","Transition","in","nodeRef","onEnter","onExited","unmountOnExit","state","CToastContext","Provider","value","__assign","classNames","fade","concat","show","role","onMouseEnter","onMouseLeave","key","propTypes","PropTypes","bool","node","string","colorPropType","number","oneOfType","func","displayName"],"sources":["/Users/thaiduy/Movie/node_modules/@coreui/react/src/components/toast/CToast.tsx"],"sourcesContent":["import React, { forwardRef, HTMLAttributes, useEffect, useRef, useState } from 'react'\nimport PropTypes from 'prop-types'\nimport classNames from 'classnames'\nimport { Transition } from 'react-transition-group'\n\nimport { CToastContext } from './CToastContext'\n\nimport { useForkedRef } from '../../hooks'\nimport { colorPropType } from '../../props'\nimport type { Colors } from '../../types'\n\nexport interface CToastProps extends Omit<HTMLAttributes<HTMLDivElement>, 'title'> {\n  /**\n   * Apply a CSS fade transition to the toast.\n   */\n  animation?: boolean\n  /**\n   * Auto hide the toast.\n   */\n  autohide?: boolean\n  /**\n   * A string of all className you want applied to the base component.\n   */\n  className?: string\n  /**\n   * Sets the color context of the component to one of CoreUIâ€™s themed colors.\n   *\n   * @type 'primary' | 'secondary' | 'success' | 'danger' | 'warning' | 'info' | 'dark' | 'light' | string\n   */\n  color?: Colors\n  /**\n   * Delay hiding the toast (ms).\n   */\n  delay?: number\n  /**\n   * @ignore\n   */\n  index?: number\n  /**\n   * @ignore\n   */\n  innerKey?: number | string\n  /**\n   * Callback fired when the component requests to be closed.\n   */\n  onClose?: (index: number | null) => void\n  /**\n   * Callback fired when the component requests to be shown.\n   */\n  onShow?: (index: number | null) => void\n  /**\n   * Toggle the visibility of component.\n   */\n  visible?: boolean\n}\n\nexport const CToast = forwardRef<HTMLDivElement, CToastProps>(\n  (\n    {\n      children,\n      animation = true,\n      autohide = true,\n      className,\n      color,\n      delay = 5000,\n      index,\n      innerKey,\n      visible = false,\n      onClose,\n      onShow,\n      ...rest\n    },\n    ref\n  ) => {\n    const toastRef = useRef(null)\n    const forkedRef = useForkedRef(ref, toastRef)\n    const [_visible, setVisible] = useState(false)\n    const timeout = useRef<number>(undefined)\n\n    useEffect(() => {\n      setVisible(visible)\n    }, [visible])\n\n    const contextValues = {\n      visible: _visible,\n      setVisible,\n    }\n\n    // triggered on mount and destroy\n    useEffect(() => () => clearTimeout(timeout.current), [])\n\n    useEffect(() => {\n      _autohide()\n    }, [_visible])\n\n    const _autohide = () => {\n      if (autohide) {\n        clearTimeout(timeout.current)\n        timeout.current = window.setTimeout(() => {\n          setVisible(false)\n        }, delay)\n      }\n    }\n\n    return (\n      <Transition\n        in={_visible}\n        nodeRef={toastRef}\n        onEnter={() => onShow && onShow(index ?? null)}\n        onExited={() => onClose && onClose(index ?? null)}\n        timeout={250}\n        unmountOnExit\n      >\n        {(state) => (\n          <CToastContext.Provider value={contextValues}>\n            <div\n              className={classNames(\n                'toast',\n                {\n                  fade: animation,\n                  [`bg-${color}`]: color,\n                  'border-0': color,\n                  'show showing': state === 'entering' || state === 'exiting',\n                  show: state === 'entered',\n                },\n                className\n              )}\n              aria-live=\"assertive\"\n              aria-atomic=\"true\"\n              role=\"alert\"\n              onMouseEnter={() => clearTimeout(timeout.current)}\n              onMouseLeave={() => _autohide()}\n              {...rest}\n              key={innerKey}\n              ref={forkedRef}\n            >\n              {children}\n            </div>\n          </CToastContext.Provider>\n        )}\n      </Transition>\n    )\n  }\n)\n\nCToast.propTypes = {\n  animation: PropTypes.bool,\n  autohide: PropTypes.bool,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  color: colorPropType,\n  delay: PropTypes.number,\n  index: PropTypes.number,\n  innerKey: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  onClose: PropTypes.func,\n  onShow: PropTypes.func,\n  visible: PropTypes.bool,\n}\n\nCToast.displayName = 'CToast'\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}