{"ast":null,"code":"import { __rest, __spreadArray, __assign } from '../../node_modules/tslib/tslib.es6.js';\nimport React, { forwardRef, useState, useRef, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from '../../_virtual/index.js';\nimport { CConditionalPortal } from '../conditional-portal/CConditionalPortal.js';\nvar CToaster = forwardRef(function (_a, ref) {\n  var children = _a.children,\n    className = _a.className,\n    placement = _a.placement,\n    push = _a.push,\n    rest = __rest(_a, [\"children\", \"className\", \"placement\", \"push\"]);\n  var _b = useState([]),\n    toasts = _b[0],\n    setToasts = _b[1];\n  var index = useRef(0);\n  useEffect(function () {\n    index.current++;\n    if (push) {\n      addToast(push);\n    }\n  }, [push]);\n  var addToast = function (push) {\n    setToasts(function (state) {\n      return __spreadArray(__spreadArray([], state, true), [React.cloneElement(push, {\n        index: index.current,\n        innerKey: index.current,\n        onClose: function (index) {\n          return setToasts(function (state) {\n            return state.filter(function (i) {\n              return i.props.index !== index;\n            });\n          });\n        }\n      })], false);\n    });\n  };\n  return React.createElement(CConditionalPortal, {\n    portal: typeof placement === 'string'\n  }, toasts.length > 0 || children ? React.createElement(\"div\", __assign({\n    className: classNames('toaster toast-container', {\n      'position-fixed': placement,\n      'top-0': placement && placement.includes('top'),\n      'top-50 translate-middle-y': placement && placement.includes('middle'),\n      'bottom-0': placement && placement.includes('bottom'),\n      'start-0': placement && placement.includes('start'),\n      'start-50 translate-middle-x': placement && placement.includes('center'),\n      'end-0': placement && placement.includes('end')\n    }, className)\n  }, rest, {\n    ref: ref\n  }), children, toasts.map(function (toast, index) {\n    return React.cloneElement(toast, {\n      visible: true,\n      key: index\n    });\n  })) : null);\n});\nCToaster.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  placement: PropTypes.oneOfType([PropTypes.string, PropTypes.oneOf(['top-start', 'top-center', 'top-end', 'middle-start', 'middle-center', 'middle-end', 'bottom-start', 'bottom-center', 'bottom-end'])]),\n  push: PropTypes.any\n};\nCToaster.displayName = 'CToaster';\nexport { CToaster };","map":{"version":3,"names":["CToaster","forwardRef","_a","ref","children","className","placement","push","rest","__rest","_b","useState","toasts","setToasts","index","useRef","useEffect","current","addToast","state","__spreadArray","React","cloneElement","innerKey","onClose","filter","i","props","createElement","CConditionalPortal","portal","length","__assign","classNames","includes","map","toast","visible","key","propTypes","PropTypes","node","string","oneOfType","oneOf","any","displayName"],"sources":["/Users/thaiduy/Movie/node_modules/@coreui/react/src/components/toast/CToaster.tsx"],"sourcesContent":["import React, { forwardRef, HTMLAttributes, useEffect, useState, useRef, ReactElement } from 'react'\nimport PropTypes from 'prop-types'\nimport classNames from 'classnames'\nimport { CConditionalPortal } from '../conditional-portal'\n\nimport type { CToastProps } from './CToast'\n\nexport interface CToasterProps extends HTMLAttributes<HTMLDivElement> {\n  /**\n   * A string of all className you want applied to the base component.\n   */\n  className?: string\n  /**\n   * Describes the placement of your component.\n   *\n   * @type 'top-start' | 'top' | 'top-end' | 'middle-start' | 'middle' | 'middle-end' | 'bottom-start' | 'bottom' | 'bottom-end' | string\n   */\n  placement?:\n    | 'top-start'\n    | 'top-center'\n    | 'top-end'\n    | 'middle-start'\n    | 'middle-center'\n    | 'middle-end'\n    | 'bottom-start'\n    | 'bottom-center'\n    | 'bottom-end'\n    | string\n  /**\n   * Adds new `CToast` to `CToaster`.\n   */\n  push?: ReactElement<CToastProps>\n}\n\nexport const CToaster = forwardRef<HTMLDivElement, CToasterProps>(\n  ({ children, className, placement, push, ...rest }, ref) => {\n    const [toasts, setToasts] = useState<ReactElement<CToastProps>[]>([])\n    const index = useRef<number>(0)\n\n    useEffect(() => {\n      index.current++\n      if (push) {\n        addToast(push)\n      }\n    }, [push])\n\n    const addToast = (push: ReactElement<CToastProps>) => {\n      setToasts((state) => [\n        ...state,\n        React.cloneElement(push, {\n          index: index.current,\n          innerKey: index.current,\n          onClose: (index: number) =>\n            setToasts((state) => state.filter((i) => i.props.index !== index)),\n        }),\n      ])\n    }\n\n    return (\n      <CConditionalPortal portal={typeof placement === 'string'}>\n        {toasts.length > 0 || children ? (\n          <div\n            className={classNames(\n              'toaster toast-container',\n              {\n                'position-fixed': placement,\n                'top-0': placement && placement.includes('top'),\n                'top-50 translate-middle-y': placement && placement.includes('middle'),\n                'bottom-0': placement && placement.includes('bottom'),\n                'start-0': placement && placement.includes('start'),\n                'start-50 translate-middle-x': placement && placement.includes('center'),\n                'end-0': placement && placement.includes('end'),\n              },\n              className\n            )}\n            {...rest}\n            ref={ref}\n          >\n            {children}\n            {toasts.map((toast, index) => React.cloneElement(toast, { visible: true, key: index }))}\n          </div>\n        ) : null}\n      </CConditionalPortal>\n    )\n  }\n)\n\nCToaster.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  placement: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.oneOf([\n      'top-start',\n      'top-center',\n      'top-end',\n      'middle-start',\n      'middle-center',\n      'middle-end',\n      'bottom-start',\n      'bottom-center',\n      'bottom-end',\n    ]),\n  ]),\n  push: PropTypes.any,\n}\n\nCToaster.displayName = 'CToaster'\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}